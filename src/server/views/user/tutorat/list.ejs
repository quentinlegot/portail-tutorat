<%- include('../../header', {title: "Vos tutorats", style: "user/tutorat/list"}) %>

<h1>Vos tutorats</h1>

<ul id="nouveau_tutorat">
    <a href="/user/tutorat/create"><li id="nouveau_tutorat">Nouveau Tutorat</li></a>
</ul>
<% if(message) {%>
<%=message%>
<% } %>

<div id="tutorat_enregistre">
    <h2>Vos Tutorats enregistrés :</h1>

    <ul id="formu">
        <li>
            <select name="trier" id="trier-select">
                <option value="" disabled selected>Trier</option>
                <option value="oui">oui</option>
            </select>
        </li>
    </ul>
</div>

<% for (tutorat of resultList)
{
        let startdate = new Date(tutorat.startdate) 
        let hoursDuration = Math.floor(tutorat.duration / 60)
        let minuteDuration = tutorat.duration - hoursDuration * 60
%>
        <div id="tutorat">
            <div id="tutorat_exemple">
                <h2>Tutorat <%=tutorat.content%></h2>
                <h3><p>Proposé par <%=tutorat.nom%></p></h3>
                <h3><p><%=tutorat.place%></p></h3>
            </div>
        
            <div>
                <h2>Description :</h2>
                <p class="description"><%=tutorat.description%></p>
            
                <h2>Horaires :</h2>
                <p class="description">Le <%=startdate.toLocaleString("fr-FR", {timeZone: "Europe/Paris", day: "2-digit", month: "2-digit", year: "numeric", hour: "2-digit", minute: "2-digit" });%> à <%=("0" + startdate.getHours()).slice(-2)%>h<%=("0" + startdate.getMinutes()).slice(-2)%>
                    pour une durée de <%=hoursDuration%>h<%=("0" + minuteDuration).slice(-2)%> au prix de <%=tutorat.price%>€</p>
            </div>
			
			<div class="jesaispas">
                <ul>
					<a class="view" href="/tutorat/<%=tutorat.id%>">Détails</a>
					<a class="delete" href="./delete/<%=tutorat.id%>">Supprimer</a>
					<a class="modify" href="./modify/<%=tutorat.id%>">Modifier</a>
                </ul>
            </div>
			
		</div>
<% } %>
